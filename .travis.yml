language: python
sudo: false
matrix:
  include:
  - python: '3.5'
    env: DEPS="numpy scipy nose cython"
  - python: '3.4'
    env: DEPS="numpy scipy nose cython"
  - python: '3.3'
    env: DEPS="numpy scipy nose cython"
  - python: '2.7'
    env: DEPS="numpy scipy nose cython"
install:
- wget http://repo.continuum.io/miniconda/Miniconda${TRAVIS_PYTHON_VERSION:0:1}-latest-Linux-x86_64.sh
  -O miniconda.sh
- chmod +x miniconda.sh
- ./miniconda.sh -b
- export PATH=/home/travis/miniconda${TRAVIS_PYTHON_VERSION:0:1}/bin:$PATH
- conda update --yes --no-deps conda
- conda config --set always_yes yes --set changeps1 no
- conda update --yes conda
- conda install --yes -c conda conda-env
- conda install --yes $DEPS pip python=${TRAVIS_PYTHON_VERSION}
- pip install coveralls
- python setup.py install
script:
- nosetests -vv --with-coverage --cover-package=abel abel/tests
deploy:
  provider: pypi
  user: DanHickstein
  password:
    secure: ShOPEP8VoFPJmbJnpl5+KXejceBCW8YwJPbq7mWWOl8zai1N3f5IvB/G9E2fP+FZNVADNVrLUmqI7nmiOG3mGBm06ahRUtlZIlJJ2dPdumf/7l3W0mL3WYSIbfDsZNuGLtC2e+BeZkf0zdJN2b7/HSdadrLa4rJrsohcyv1TzbVcPb/YrvP4QufL4R79MGLVWpNHusumNzJOTLae7qhaUBnpK6NuzdbiJhftjQjkW5SPazaDET6IZ8r7Di29ywotDRmZLvUyI1p1A0frN8Wa0owW1xqmO6OguNjL3g2NLXLEwZ4sbA79c/eAguIcfg7/J+DgSdqbTlZh3GaC/ftxzss8UxxVOpIa7HyGChiCwly5ltFKDcwoL7/ty3nxhSEQpjnX/GnUUASU8aFPSDAIh+blVAstGTPWq2z+0OPLJjYrfpowapQ6uy2PiYMCuDHpwZWjy/iVd2aUBJXWcx93kwvU4jryRUp/S9Wjocnv5q6x4n0pNmStLaibOV0g4WmX1E5msMKF2gBTvqQyDI0Uy+rPs/DvkXnLch3VQR0iX5Ca0SaOVfkV/HA52gGWx1t5Vg9ptY+HUVhSsSFqX7HOeSsjonv1IaKl9nyidqFGgoo0uyivLoX0JKy1Ex/53YP3zUP7gE+peuloR3wHNfj9cPjG0gs7ySCUTaS01hV7pC0=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: PyAbel/PyAbel
